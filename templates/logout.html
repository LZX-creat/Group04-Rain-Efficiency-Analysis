<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>正在退出...</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="d-flex align-items-center justify-content-center" style="height: 100vh; background: #f0f2f5;">
    <div class="text-center">
        <div class="spinner-border text-primary" role="status"></div>
        <p class="mt-3 text-secondary">正在安全退出系统，请稍候...</p>
    </div>

    <script>
        // 页面加载后立即请求后端退出接口
        window.onload = async () => {
            try {
                const res = await fetch('/api/logout', { method: 'POST' });
                if (res.ok) {
                    // 清除成功后跳转到登录页
                    window.location.href = '/login_page';
                }
            } catch (err) {
                console.error("退出失败:", err);
                // 即使失败，强制跳转回登录页也是一种安全策略
                window.location.href = '/login_page';
            }
        };
    </script>
</body>
</html>